###### [<< Înapoi la cuprins](../Cuprins.md)
###### [< Clasa Client](04.%20Client.md)
# Clasa FixedHeader
### Această clasă descrie antetul fix al fiecărui pachet. Aceasta are 2 atribute: tipul pachetului (primii 4 biți din primul octet și flag-urile specifice pachetului), respectiv lungimea pachetului. Întrucât dorim să respectăm principiul încapsulării specific programării orientate obiect am ales să facem aceste atribute private, iar pentru a putea să le accesăm și să le modificăm am introdus metode specifice: 
1. set_type: acesta va modifica atributul type cu valoarea primită ca parametru.
2. set_lenght: această metodă va modifica valoarea atributului lenght cu valoarea primită ca parametru, dar codificată conform Variable Bye Integer.
3. get_type: această metodă va returna octetul care descrie tipul pachetului (primii 4 biți) și flag-urile specifice tipului de pachet
4. get_lenght: această metodă va returna lungimea pachetului sub forma unui număr natural strict pozitiv.
5.  encode_variable_byte_integer:  
Această funcție are rolul de a codifica un număr întreg pozitiv sub forma impusă de tipul de date Varable Byte Integer, specific acestui protocol. Această metodă va fi statică pentru a putea fi apelată și în interiorul fiecăreri clase care descrie un tip de pachet. Pentru a face conversia vom apela la următorul algoritm:
```Python
def int_to_mqtt_binary_data(value: int) -> bytes:
    # Conversie int to reprezentarea binara 
    data_bytes = value.to_bytes((value.bit_length() + 7) // 8, byteorder='big')
    length = len(data_bytes)
    
    # Ma asigur ca nu depaseste lungimea impusa
    if length > 65535:
        raise ValueError("Data length exceeds maximum allowed size for MQTT binary data.")

    length_bytes = length.to_bytes(2, byteorder='big')
    
    return length_bytes + data_bytes
```
###### [Clasa Packet >](06.%20Packet.md)