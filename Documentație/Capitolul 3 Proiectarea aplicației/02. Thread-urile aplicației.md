###### [<< Înapoi la cuprins](../Cuprins.md)
###### [< Introducere](01.%20Introducere.md)
# Thread-urile aplicatiei
### Aplucația trebuie să urmărească producerea mai multor evenimente: comenzile date de client din interfața grafică, codificarea și trimiterea pachetelor, respecit primirea pachetelor de la broker. Pentru a realiza o execuție simultană a acestor procese vom folosi mecanismul de thread-uri. Vom utiliza umrătoarele thread-uri:
1. Acest thread corespunde cu thread-ul main creat de program, pe care îl  vom numi Main. În cadrul acestui thread se va aștepta orice acțiune de la client. În cazul prosucerii unui eveniment, se va analiza tipul evenimentului și se va lua o decizie. De asemenea, acest thread va crea un alt thread, în care vor rula unele funcții ale clientului (la care ne vom referi cu numle de Client).
2. Thread-ul Cleint este un thread care descrie funționalitatea clientului. La momentul conectării la broker acest thread va genera un thread copil, pe care îl vom numni Receive. Acest thread va primi pachetele decodificate și în cazul în care sunt mesaje care trebuie afișate le va trimite la thread-ul Main. De asemenea acesta va crea un thread în momemntul în care se dorește trimiterea unui pachet, pe care îl vom numi Send. Totodată, Client va termina Send în momentul în care pachetul va fi trimis.
3. Thread-ul Send are rolul de a transforma conținutul unui pachet într-un șir de caractere. După ce va realiza această operație va trimite prin intermediul socket-ului pachetul către broker. La final, acesta va trimite un mesaj la Client, notificând faptul că trimiterea pachetului s-a terminat.
4. Thread-ul Receive are rolul de a aștepta pachete de la broker. În momentul în care se primește un pachet el va fi decodificat. După procesul de decodificare, thread-ul Client va fi anunțat despre primirea pachetului și eventualele erori care au apărut (de exemplu primirea unui pachet malformat).
###### [Diagrama de clase >](03.%20Diagrama%20de%20clase.md)
